<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Game Results</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-5">
    <h1 class="text-center">Game Results</h1>

    <!-- Display intermediate results -->
    <div class="mt-4">
        <h3>Intermediate Steps</h3>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Category</th>
                    <th>Details</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>User's Random String (rA)</strong></td>
                    <td><span th:text="${rA}"></span></td>
                </tr>
                <tr>
                    <td><strong>Server's Random String (rS)</strong></td>
                    <td><span th:text="${rS}"></span></td>
                </tr>
                <tr>
                    <td><strong>User's Number</strong></td>
                    <td><span th:text="${playerChoice}"></span></td>
                </tr>
                <tr>
                    <td><strong>Server's Number</strong></td>
                    <td><span th:text="${serverChoice}"></span></td>
                </tr>
                <tr>
                    <td><strong>Commitment Hash (hCommit)</strong></td>
                    <td><code th:text="${hCommit}"></code></td>
                </tr>
                <tr>
                    <td><strong>Revealed Hash (h2)</strong></td>
                    <td><code th:text="${h2}"></code></td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Display game result -->
    <div>
        <div th:switch="${result}">
            <p th:case="'User wins!'" class="alert alert-success text-center">User wins!</p>
            <p th:case="'It\'s a tie!'" class="alert alert-warning text-center">It's a tie!</p>
            <p th:case="*" class="alert alert-danger text-center" th:text="${result}"></p>
        </div>
    </div>

    <!-- Play again button -->
    <form th:action="@{/game/play}" method="post" class="text-center">
        <button type="submit" class="btn btn-primary">Play Again</button>
    </form>

    <!-- Back to home button -->
    <form th:action="@{/api/auth/home}" method="get" class="text-center mt-3">
        <button type="submit" class="btn btn-danger">Back to Home</button>
    </form>
</body>
</html>